<div class="card w-75 mx-auto mt-4 shadow-lg">
  <% if flash[:alert] %>
    <div class="alert alert-danger">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <div class="card-header">
    <%= image_tag @post.get_image, class: "card-img-top" %>
  </div>

  <div class="card-body">
    <%= form_with(model: @post) do |f| %>

      <div class="form-group">
        <%= f.label :title, "タイトル" %>
        <%= f.text_field :title, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :sauna_name, "店名" %>
        <%= f.text_field :sauna_name, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :address, "住所" %>
        <%= f.text_field :address, class: "form-control" %>
      </div>
      <div class="mb-3">
        <%= f.label :tag_ids, "タグを選択" %>
        <%= f.collection_select :tag_ids, Tag.all, :id, :name, {}, { multiple: true, class: "form-control" } %>
      </div>

      <div class="form-group">
        <%= f.label :caption, "説明" %>
        <%= f.text_area :caption, rows: 5, class: "form-control" %>
      </div>

      <!-- トグルスイッチで非公開の選択 -->
      <div class="custom-control custom-switch">
        <%= f.check_box :status, {class: "custom-control-input", id: "unpublishedSwitch"}, "unpublished", "published" %>
        <%= f.label :status, "非公開にする", class: "custom-control-label", for: "unpublishedSwitch" %>
      </div>

      <div class="form-group mt-4">
        <%= f.submit "変更を保存", class: "btn btn-primary" %>
        <%= link_to "投稿を削除", post_path(@post), method: :delete, class:"btn btn-danger", data: { confirm: "投稿を削除しますか？" }  %>
      </div>

    <% end %>
  </div>
</div>
